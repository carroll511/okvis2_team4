# SuperPoint/LightGlue μ„±λ¥ μ €ν• μ›μΈ λ¶„μ„

## π”΄ μ£Όμ” λ¬Έμ μ 

### 1. **LightGlueκ°€ μ‹¤μ λ΅ μ‚¬μ©λμ§€ μ•μ** (κ°€μ¥ μ‹¬κ°)
- **μ„μΉ**: `okvis_frontend/src/Frontend.cpp:2117`
- **λ¬Έμ **: `use_lightglue = false;`λ΅ ν•λ“μ½”λ”©λμ–΄ μμ
- **μν–¥**: SuperPointλ” μ‚¬μ©λμ§€λ§ LightGlue λ§¤μΉ­μ€ μ‚¬μ©λμ§€ μ•μ
- **κ²°κ³Ό**: BRISK Hamming distance λ§¤μΉ­μ„ SuperPoint λ””μ¤ν¬λ¦½ν„°μ— μ‚¬μ© β†’ μ„±λ¥ μ €ν•

### 2. **λ””μ¤ν¬λ¦½ν„° μ •λ³΄ μ†μ‹¤** (λ§¤μ° μ‹¬κ°)
- **μ„μΉ**: `okvis_frontend/src/Frontend.cpp:280-282`
- **λ¬Έμ **: SuperPointμ float λ””μ¤ν¬λ¦½ν„°(256μ°¨μ›)λ¥Ό λ‹¨μ μ–‘μν™”λ΅ uchar λ³€ν™
  ```cpp
  descriptors.convertTo(descriptors_uchar, CV_8U, 255.0);
  ```
- **μν–¥**: 
  - μ •λ³΄ μ†μ‹¤μ΄ λ§¤μ° νΌ (float β†’ uchar μ–‘μν™”)
  - SuperPointμ μ •λ°€ν• λ””μ¤ν¬λ¦½ν„° μ •λ³΄κ°€ μ†μ‹¤λ¨
- **κ²°κ³Ό**: λ§¤μΉ­ μ •ν™•λ„ λ€ν­ κ°μ†

### 3. **BRISK λ§¤μΉ­ μ•κ³ λ¦¬μ¦κ³Όμ νΈν™μ„± λ¬Έμ ** (μ‹¬κ°)
- **λ¬Έμ **: 
  - BRISK: 48λ°”μ΄νΈ binary descriptor, Hamming distance μ‚¬μ©
  - SuperPoint: 256μ°¨μ› float descriptor
  - μ–‘μν™”λ SuperPoint λ””μ¤ν¬λ¦½ν„°λ¥Ό BRISK Hamming distanceλ΅ λ§¤μΉ­
- **μν–¥**: 
  - BRISK λ§¤μΉ­ μ•κ³ λ¦¬μ¦μ΄ SuperPoint λ””μ¤ν¬λ¦½ν„°μ— μµμ ν™”λμ§€ μ•μ
  - λ§¤μΉ­ μ„±λ¥μ΄ ν¬κ² λ–¨μ–΄μ§
- **κ²°κ³Ό**: μλ»λ λ§¤μΉ­ λλ” λ§¤μΉ­ μ‹¤ν¨ μ¦κ°€

### 4. **μΉ΄λ©”λΌ μΈμ‹ λ§µ λ―Έμ‚¬μ©** (μ¤‘κ°„)
- **μ„μΉ**: `okvis_frontend/src/Frontend.cpp:232-245`
- **λ¬Έμ **: 
  - BRISKλ” μΉ΄λ©”λΌ μ§€ν–¥μ„± μ •λ³΄(camera awareness maps)λ¥Ό μ‚¬μ©
  - SuperPointλ” μ΄λ¥Ό μ‚¬μ©ν•μ§€ μ•μ
- **μν–¥**: 
  - λ‹¤μ¤‘ μΉ΄λ©”λΌ μ‹μ¤ν…μ—μ„ νΉμ§• μ¶”μ¶ λ°©ν–¥ μµμ ν™” λ¶κ°€
  - νΉν HILTIμ 5κ° μΉ΄λ©”λΌ μ‹μ¤ν…μ—μ„ λ¶λ¦¬
- **κ²°κ³Ό**: νΉμ§• μ¶”μ¶ ν’μ§ μ €ν•

### 5. **ν‚¤ν¬μΈνΈ κ°μ μ°¨μ΄** (μ¤‘κ°„)
- **μ„¤μ •**:
  - BRISK: `max_num_keypoints: 700`
  - SuperPoint: `superpoint_max_keypoints: 2048`
- **μν–¥**:
  - ν‚¤ν¬μΈνΈκ°€ λ„λ¬΄ λ§μΌλ©΄ λ§¤μΉ­ μ‹κ°„ μ¦κ°€
  - λ…Έμ΄μ¦ ν‚¤ν¬μΈνΈ μ¦κ°€ κ°€λ¥
  - μµμ ν™” λ¶€λ‹΄ μ¦κ°€
- **κ²°κ³Ό**: μ²λ¦¬ μ†λ„ μ €ν• λ° λ…Έμ΄μ¦ μ¦κ°€

### 6. **HILTI λ°μ΄ν„°μ…‹ νΉμ„±** (ν™κ²½μ  μ”μΈ)
- **νΉμ„±**:
  - μ‹¤λ‚΄ ν™κ²½ (μ €μ΅°λ„, λ°λ³µμ  ν…μ¤μ²)
  - λ‹¤μ¤‘ λ λ²¨ κµ¬μ΅°
  - BRISKκ°€ λ” μ ν•©ν•  μ μλ” ν™κ²½
- **μν–¥**: 
  - SuperPointκ°€ ν•™μµλ λ°μ΄ν„°μ™€ λ‹¤λ¥Έ ν™κ²½
  - μΌλ°ν™” μ„±λ¥ μ €ν• κ°€λ¥
- **κ²°κ³Ό**: λ°μ΄ν„°μ…‹ νΉμ„±μ— λ”°λ¥Έ μ„±λ¥ μ €ν•

### 7. **λ§¤μΉ­ Threshold λ¶μΌμΉ** (μ¤‘κ°„)
- **μ„¤μ •**:
  - BRISK: `matching_threshold: 60.0` (Hamming distance)
  - LightGlue: `lightglue_match_threshold: 0.2` (confidence)
- **λ¬Έμ **: LightGlueκ°€ λΉ„ν™μ„±ν™”λμ–΄ thresholdκ°€ μ μ©λμ§€ μ•μ
- **μν–¥**: λ§¤μΉ­ ν’μ§ μ μ–΄ λ¶κ°€
- **κ²°κ³Ό**: λ¶€μ •ν™•ν• λ§¤μΉ­ ν—μ©

### 8. **λ””μ¤ν¬λ¦½ν„° μ €μ¥ ν•μ‹ μ μ•½** (κµ¬μ΅°μ  λ¬Έμ )
- **λ¬Έμ **: 
  - OKVIS2λ” uchar λ””μ¤ν¬λ¦½ν„°λ§ μ§€μ›
  - SuperPoint float λ””μ¤ν¬λ¦½ν„°λ¥Ό μ €μ¥ν•  κµ¬μ΅°κ°€ μ—†μ
- **μν–¥**: 
  - λ””μ¤ν¬λ¦½ν„° μ •λ³΄ μ†μ‹¤ ν•„μ
  - LightGlue μ‚¬μ© λ¶κ°€ (float λ””μ¤ν¬λ¦½ν„° ν•„μ”)
- **κ²°κ³Ό**: κµ¬μ΅°μ  μ μ•½μΌλ΅ μΈν• μ„±λ¥ μ €ν•

## π“ μ„±λ¥ μ €ν• λ©”μ»¤λ‹μ¦

```
SuperPoint μ¶”μ¶ (float descriptors)
    β†“
λ‹¨μ μ–‘μν™” (μ •λ³΄ μ†μ‹¤)
    β†“
uchar λ””μ¤ν¬λ¦½ν„°λ΅ λ³€ν™
    β†“
BRISK Hamming distance λ§¤μΉ­ (λ¶€μ ν•©ν• μ•κ³ λ¦¬μ¦)
    β†“
λ¶€μ •ν™•ν• λ§¤μΉ­
    β†“
SLAM μ„±λ¥ μ €ν•
```

## π”§ ν•΄κ²° λ°©μ•

### μ¦‰μ‹ μ μ© κ°€λ¥ν• ν•΄κ²°μ±…

1. **LightGlue ν™μ„±ν™”**
   - float λ””μ¤ν¬λ¦½ν„°λ¥Ό λ³„λ„λ΅ μ €μ¥ν•λ” κµ¬μ΅° μ¶”κ°€
   - LightGlue λ§¤μΉ­ λ΅μ§ ν™μ„±ν™”

2. **ν‚¤ν¬μΈνΈ κ°μ μ΅°μ •**
   - `superpoint_max_keypoints`λ¥Ό 700-1000μΌλ΅ κ°μ†
   - BRISKμ™€ μ μ‚¬ν• ν‚¤ν¬μΈνΈ λ°€λ„ μ μ§€

3. **λ””μ¤ν¬λ¦½ν„° λ³€ν™ κ°μ„ **
   - μ–‘μν™” λ€μ‹  μ •κ·ν™” ν›„ μ €μ¥
   - λλ” float λ””μ¤ν¬λ¦½ν„°λ¥Ό μ§μ ‘ μ €μ¥ν•λ” κµ¬μ΅° μ¶”κ°€

### μ¤‘μ¥κΈ° ν•΄κ²°μ±…

1. **MultiFrame κµ¬μ΅° μμ •**
   - float λ””μ¤ν¬λ¦½ν„° μ €μ¥ μ§€μ› μ¶”κ°€
   - ucharμ™€ float λ””μ¤ν¬λ¦½ν„° λ¨λ‘ μ§€μ›

2. **λ§¤μΉ­ λ΅μ§ κ°μ„ **
   - SuperPoint λ””μ¤ν¬λ¦½ν„°μ© μ „μ© λ§¤μΉ­ μ•κ³ λ¦¬μ¦
   - λλ” LightGlue μ™„μ „ ν†µν•©

3. **μΉ΄λ©”λΌ μΈμ‹ λ§µ ν†µν•©**
   - SuperPoint μ¶”μ¶ μ‹ μΉ΄λ©”λΌ μ§€ν–¥μ„± μ •λ³΄ ν™μ©
   - λ‹¤μ¤‘ μΉ΄λ©”λΌ μ‹μ¤ν… μµμ ν™”

## π“ μμƒ μ„±λ¥ κ°μ„ 

- **LightGlue ν™μ„±ν™”**: 20-30% μ„±λ¥ ν–¥μƒ μμƒ
- **ν‚¤ν¬μΈνΈ κ°μ μ΅°μ •**: 10-15% μ„±λ¥ ν–¥μƒ μμƒ
- **λ””μ¤ν¬λ¦½ν„° μ €μ¥ κ°μ„ **: 15-25% μ„±λ¥ ν–¥μƒ μμƒ
- **μ „μ²΄ κ°μ„ **: 40-60% μ„±λ¥ ν–¥μƒ κ°€λ¥

## π― μ°μ„ μμ„

1. **μµμ°μ„ **: LightGlue ν™μ„±ν™” (κ°€μ¥ ν° μν–¥)
2. **λ†’μ**: ν‚¤ν¬μΈνΈ κ°μ μ΅°μ • (μ¦‰μ‹ μ μ© κ°€λ¥)
3. **μ¤‘κ°„**: λ””μ¤ν¬λ¦½ν„° μ €μ¥ κµ¬μ΅° κ°μ„ 
4. **λ‚®μ**: μΉ΄λ©”λΌ μΈμ‹ λ§µ ν†µν•© (λ³µμ΅λ„ λ†’μ)

